DROP TABLE IF EXISTS TRANSACTION;
DROP TABLE IF EXISTS ACCOUNT;
DROP TABLE IF EXISTS CUSTOMER;

CREATE TABLE CUSTOMER (
    ID VARCHAR (20) PRIMARY KEY,
    NAME VARCHAR (100) NOT NULL,
    PASSWORD VARCHAR (100) NOT NULL,
    SCOPES VARCHAR (100) NOT NULL
);

CREATE TABLE ACCOUNT (
    ACCOUNT_NUMBER VARCHAR (20) PRIMARY KEY,
    ACCOUNT_NAME VARCHAR (50) NOT NULL,
    CUSTOMER_ID VARCHAR (20),
    ACCOUNT_TYPE ENUM('Savings', 'Current'),
    BALANCE_DATE TIMESTAMP,
    CURRENCY ENUM('AUD','SGD'),
    AVAILABLE_BALANCE DECIMAL(20,2),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER(ID)
);

CREATE TABLE TRANSACTION (
    ID VARCHAR (50) PRIMARY KEY,
    ACCOUNT_NUMBER VARCHAR (20) NOT NULL,
    VALUE_DATE TIMESTAMP,
    CURRENCY ENUM('AUD', 'SGD'),
    DEBIT_AMOUNT DECIMAL(20,2),
    CREDIT_AMOUNT DECIMAL(20,2),
    TRANSACTION_TYPE ENUM('Debit','Credit'),
    TRANSACTION_DESCRIPTION VARCHAR(200),
    FOREIGN KEY (ACCOUNT_NUMBER) REFERENCES ACCOUNT(ACCOUNT_NUMBER)
);

INSERT INTO CUSTOMER (ID, NAME, PASSWORD, SCOPES) VALUES ('customer1','TEST CUSTOMER 1', '$2y$10$vXpEwar7NKWrOiLOesDtyOSkFA/2I3uQo44kxCMCGG2E4hGy/ZVv6', 'SCP_ACCOUNTS,SCP_DUMMY');
INSERT INTO CUSTOMER (ID, NAME, PASSWORD, SCOPES) VALUES ('customer2','TEST CUSTOMER 2', '$2y$10$cJYFxeDXJuIlmN4txivxseoWdw2bif1nMoaxg5x8/ia0GUqKXJIH2', 'SCP_ACCOUNTS');
INSERT INTO CUSTOMER (ID, NAME, PASSWORD, SCOPES) VALUES ('customer3','TEST CUSTOMER 3', '$2y$10$zHRPnjQmPp5OJQC66USahuZaSLT5IbK7f4bbS/h.ZLSOiy9hxGR8a', 'SCP_DUMMY');

INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC1','CUSTOMER 1 ACCOUNT 1', 'customer1', 'Savings', parsedatetime('08-25-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','10002.00');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC2','CUSTOMER 1 ACCOUNT 2', 'customer1', 'Current', parsedatetime('08-25-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','100.01');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC3','CUSTOMER 1 ACCOUNT 3', 'customer1', 'Savings', parsedatetime('08-25-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','19201.02');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC4','CUSTOMER 1 ACCOUNT 4', 'customer1', 'Savings', parsedatetime('08-26-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','112.05');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC5','CUSTOMER 1 ACCOUNT 5', 'customer1', 'Current', parsedatetime('09-26-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','999.11');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC6','CUSTOMER 1 ACCOUNT 6', 'customer1', 'Savings', parsedatetime('09-26-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','199.10');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC7','CUSTOMER 1 ACCOUNT 7', 'customer1', 'Savings', parsedatetime('09-26-2020 18:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','8974.12');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC8','CUSTOMER 1 ACCOUNT 8', 'customer1', 'Current', parsedatetime('10-27-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','8888.99');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC9','CUSTOMER 1 ACCOUNT 9', 'customer1', 'Savings', parsedatetime('10-27-2020 18:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','123.12');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC10','CUSTOMER 1 ACCOUNT 10', 'customer1', 'Current', parsedatetime('10-27-2020 19:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','4564.24');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST1-ACC11','CUSTOMER 1 ACCOUNT 11', 'customer1', 'Savings', parsedatetime('10-27-2020 20:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','456.50');

INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC1','CUSTOMER 2 ACCOUNT 1', 'customer2', 'Savings', parsedatetime('01-25-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','11002.00');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC2','CUSTOMER 2 ACCOUNT 2', 'customer2', 'Current', parsedatetime('01-25-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','110.01');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC3','CUSTOMER 2 ACCOUNT 3', 'customer2', 'Savings', parsedatetime('01-25-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','12201.02');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC4','CUSTOMER 2 ACCOUNT 4', 'customer2', 'Savings', parsedatetime('01-26-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','142.05');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC5','CUSTOMER 2 ACCOUNT 5', 'customer2', 'Current', parsedatetime('02-26-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','919.11');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC6','CUSTOMER 2 ACCOUNT 6', 'customer2', 'Savings', parsedatetime('02-26-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','149.10');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC7','CUSTOMER 2 ACCOUNT 7', 'customer2', 'Savings', parsedatetime('02-26-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','8474.12');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC8','CUSTOMER 2 ACCOUNT 8', 'customer2', 'Current', parsedatetime('03-27-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','8188.99');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC9','CUSTOMER 2 ACCOUNT 9', 'customer2', 'Savings', parsedatetime('03-27-2020 18:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','1123.12');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC10','CUSTOMER 2 ACCOUNT 10', 'customer2', 'Current', parsedatetime('03-27-2020 19:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'SGD','1264.24');
INSERT INTO ACCOUNT (ACCOUNT_NUMBER, ACCOUNT_NAME, CUSTOMER_ID, ACCOUNT_TYPE, BALANCE_DATE, CURRENCY, AVAILABLE_BALANCE) VALUES ('CUST2-ACC11','CUSTOMER 2 ACCOUNT 11', 'customer2', 'Savings', parsedatetime('03-27-2020 20:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'),'AUD','4466.50');

INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS1','CUST1-ACC1', parsedatetime('01-25-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '5430.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS2','CUST1-ACC1', parsedatetime('01-26-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '543.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS3','CUST1-ACC1', parsedatetime('01-26-2020 14:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', '1230.10', NULL, 'Debit','Debited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS4','CUST1-ACC1', parsedatetime('01-26-2020 15:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'SGD', NULL, '5450.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS5','CUST1-ACC1', parsedatetime('01-27-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'SGD', '360.10', NULL, 'Debit','Debited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS6','CUST1-ACC1', parsedatetime('01-28-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '85730.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS7','CUST1-ACC1', parsedatetime('01-25-2020 18:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '5670.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS8','CUST1-ACC2', parsedatetime('02-25-2020 16:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '550.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS9','CUST1-ACC2', parsedatetime('03-25-2020 17:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '530.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS10','CUST1-ACC2', parsedatetime('03-25-2020 10:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'SGD', '3430.10', NULL,'Debit','Debited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS11','CUST1-ACC2', parsedatetime('04-25-2020 14:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'SGD', NULL, '6530.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS12','CUST1-ACC2', parsedatetime('05-25-2020 12:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', NULL, '5730.10','Credit','Credited');
INSERT INTO TRANSACTION (ID, ACCOUNT_NUMBER, VALUE_DATE, CURRENCY, DEBIT_AMOUNT, CREDIT_AMOUNT, TRANSACTION_TYPE, TRANSACTION_DESCRIPTION) VALUES ('TRANS13','CUST1-ACC2', parsedatetime('06-25-2020 14:00:00 UTC', 'MM-dd-yyyy hh:mm:ss Z'), 'AUD', '5930.10', NULL,'Debit','Debited');